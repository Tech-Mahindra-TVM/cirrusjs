<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <title></title>
    <script type='text/javascript' src="d3.js"></script>
    <script type='text/javascript' src="dadavis-0.1.0.js"></script>
    <!--
    <script type='text/javascript' src="src/core.js"></script>
    <script type='text/javascript' src="src/utils.js"></script>
    <script type='text/javascript' src="src/layout.js"></script>
    <script type='text/javascript' src="src/attribute.js"></script>
    <script type='text/javascript' src="src/template.js"></script>
    <script type='text/javascript' src="src/render.js"></script>
    -->
    <link href="style.css" rel="stylesheet" />
    <style>
        .container {
            width: 600px;
            height: 400px;
        }
    </style>
</head>
<body>

<div class="container"></div>

<script>

var data = dadavis.utils.getRandomData(20, 5);

var data = [
  {name: 'name1', values: [7, 2, 3, 4]},
  {name: 'name2', values:[5, 6, 2, 8]},
  {name: 'name3', values:[5, 6, 2, 1]}
];

var config = {
    containerSelector: '.container',
    type: 'bar',
    subtype: 'grouped'
}

var ds = dadavis.init(config).render(data);

var chartIndex = 0;
setInterval(function(){
    data = dadavis.utils.getRandomData(30, 5);
    var chartSubtypes = ['simple', 'grouped', 'stacked', 'percent'];
    var chartSubtype = chartSubtypes[chartIndex++ % chartSubtypes.length];

    ds.setConfig({subtype: chartSubtype})
        .render(data);

}, 1000);

</script>
</body>
</html>
